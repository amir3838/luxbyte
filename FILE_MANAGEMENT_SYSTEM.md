# ูุธุงู ุฅุฏุงุฑุฉ ุงููููุงุช ูุงููุณุชูุฏุงุช - Luxbyte
# File Management System for Luxbyte

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุฑูุน ุงููููุงุช ูุงููุณุชูุฏุงุช ุงููุทููุจุฉ ููู ูุดุงุท ูู ููุตุฉ Luxbyte. ูุฏุนู ุงูุชุญูู ูู ุงูุตูุบ ูุงูุฃุญุฌุงูุ ูุชูุธูู ุงููููุงุช ูู ูุฌูุฏุงุช ูููุตูุฉ ููู ูุณุชุฎุฏู ููุดุงุท.

## ๐๏ธ ูููู ุงููุธุงู

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช (PostgreSQL)

#### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:

- **`activity_types`** - ุฃููุงุน ุงูุฃูุดุทุฉ (ูุทุนูุ ุตูุฏููุฉุ ุฅูุฎ)
- **`document_types`** - ุฃููุงุน ุงููุณุชูุฏุงุช ุงููุทููุจุฉ ููู ูุดุงุท
- **`registration_requests`** - ุทูุจุงุช ุงูุชุณุฌูู ูููุณุชุฎุฏููู
- **`uploaded_files`** - ุงููููุงุช ุงููุฑููุนุฉ ูุน ูุนูููุงุชูุง

#### ุงููููุงุช:
- `supabase/migrations/001_create_file_management_tables.sql` - ุฅูุดุงุก ุงูุฌุฏุงูู
- `supabase/storage-setup.sql` - ุฅุนุฏุงุฏ Supabase Storage

### 2. ุงูุชุฎุฒูู (Supabase Storage)

#### Buckets:
- **`documents`** - ุงููุณุชูุฏุงุช ุงูุฎุงุตุฉ (ุบูุฑ ุนุงูุฉ)
- **`public-images`** - ุงูุตูุฑ ุงูุนุงูุฉ (ููุฌููุงุชุ ุฅูุฎ)

#### ูููู ุงููุฌูุฏุงุช:
```
documents/
โโโ {user_id}/
โ   โโโ restaurant/requests/
โ   โโโ supermarket/requests/
โ   โโโ pharmacy/requests/
โ   โโโ clinic/requests/
โ   โโโ courier/requests/

public-images/
โโโ {user_id}/
โ   โโโ profile/
โ   โโโ logos/
```

### 3. ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

#### ุงููููุงุช:
- `file-upload.html` - ูุงุฌูุฉ ุฑูุน ุงููููุงุช ุงูุฑุฆูุณูุฉ
- `js/file-upload-manager.js` - ูุฏูุฑ ุฑูุน ุงููููุงุช

## ๐ ุงููุณุชูุฏุงุช ุงููุทููุจุฉ ููู ูุดุงุท

### ๐ฝ๏ธ ูุทุนู (Restaurant)

#### ุฅูุฒุงูู:
- **ููุฌู ุงููุทุนู** (PNG 512ร512) โ `restaurant_logo.png`
- **ุตูุฑุฉ ุบูุงู** (JPG 1200ร600) โ `restaurant_cover.jpg`
- **ูุงุฌูุฉ ุงููุญู** (JPG 1280px+) โ `restaurant_facade.jpg`
- **ุงูุณุฌู ุงูุชุฌุงุฑู** (PDF/JPG) โ `restaurant_cr.pdf`
- **ุฑุฎุตุฉ ุงูุชุดุบูู** (PDF/JPG) โ `restaurant_op_license.pdf`

#### ุงุฎุชูุงุฑู:
- **ูุงุฆูุฉ ุงูุทุนุงู** (PDF/ุตูุฑ) โ `menu.pdf`

### ๐ ุณูุจุฑ ูุงุฑูุช (Supermarket)

#### ุฅูุฒุงูู:
- **ููุฌู** (PNG 512ร512) โ `market_logo.png`
- **ูุงุฌูุฉ/ุฃุฑูู ุงููุชุฌุฑ** (JPG 1280px+) โ `market_shelves.jpg`
- **ุงูุณุฌู ุงูุชุฌุงุฑู** (PDF/JPG) โ `market_cr.pdf`
- **ุฑุฎุตุฉ ุงููุดุงุท** (PDF/JPG) โ `market_activity_license.pdf`

#### ุงุฎุชูุงุฑู:
- **ุตูุฑุฉ ุฎุงุฑุฌูุฉ ูููุญู** (JPG) โ `market_facade.jpg`

### ๐ ุตูุฏููุฉ (Pharmacy)

#### ุฅูุฒุงูู:
- **ููุฌู** (PNG 512ร512) โ `pharmacy_logo.png`
- **ูุงุฌูุฉ ุงูุตูุฏููุฉ** (JPG 1280px+) โ `pharmacy_facade.jpg`
- **ุชุฑุฎูุต ูุฒุงููุฉ ุงููููุฉ** (PDF/JPG) โ `pharmacy_practice_license.pdf`
- **ุงูุณุฌู ุงูุชุฌุงุฑู** (PDF/JPG) โ `pharmacy_cr.pdf`

#### ุงุฎุชูุงุฑู:
- **ูุงูุชุฉ ุฏุงุฎููุฉ/ูููุชุฑ** (JPG) โ `pharmacy_interior.jpg`

### ๐ฅ ุนูุงุฏุฉ (Clinic)

#### ุฅูุฒุงูู:
- **ููุฌู ุงูุนูุงุฏุฉ ุฃู ุตูุฑุฉ ุงูุทุจูุจ** (PNG/JPG 512ร512) โ `clinic_logo.png`
- **ูุงุฌูุฉ/ุงูุงุณุชูุจุงู** (JPG 1280px+) โ `clinic_facade.jpg`
- **ุฑุฎุตุฉ ุงูุนูุงุฏุฉ** (PDF/JPG) โ `clinic_license.pdf`
- **ุจุทุงูุฉ ุงูุทุจูุจ - ุงููุฌู ุงูุฃูุงูู** (JPG) โ `doctor_id_front.jpg`
- **ุจุทุงูุฉ ุงูุทุจูุจ - ุงููุฌู ุงูุฎููู** (JPG) โ `doctor_id_back.jpg`

#### ุงุฎุชูุงุฑู:
- **ุดูุงุฏุฉ ูุฒุงููุฉ/ุฒูุงูุฉ** (PDF/JPG) โ `doctor_certificate.pdf`

### ๐ ููุฏูุจ ุชูุตูู (Courier)

#### ุฅูุฒุงูู:
- **ุจุทุงูุฉ ุงููููุฉ - ุงููุฌู ุงูุฃูุงูู** (JPG) โ `id_front.jpg`
- **ุจุทุงูุฉ ุงููููุฉ - ุงููุฌู ุงูุฎููู** (JPG) โ `id_back.jpg`
- **ุฑุฎุตุฉ ุงูููุงุฏุฉ** (JPG/PDF) โ `driving_license.jpg`
- **ุตูุฑุฉ ุงููุฑูุจุฉ + ุงูููุญุฉ** (JPG) โ `vehicle_photo.jpg`

#### ุงุฎุชูุงุฑู:
- **ุตุญููุฉ ุงูุญุงูุฉ ุงูุฌูุงุฆูุฉ** (PDF/JPG) โ `background_check.pdf`
- **ุฑุฎุตุฉ ุงููุฑูุจุฉ** (PDF/JPG) โ `vehicle_license.pdf`

### ๐ ุณุงุฆู ุฑุฆูุณู (Master Driver)

#### ุฅูุฒุงูู:
- ุฌููุน ูุณุชูุฏุงุช ููุฏูุจ ุงูุชูุตูู +
- **ุฑุฎุตุฉ ุงููุฑูุจุฉ** (PDF/JPG) โ `vehicle_license.pdf`
- **ุชุฃููู ุงููุฑูุจุฉ** (PDF/JPG) โ `insurance.pdf`

## ๐ง ุงูุงุณุชุฎุฏุงู

### 1. ุฅุนุฏุงุฏ Supabase

```bash
# ุฑุจุท ุงููุดุฑูุน
npx supabase link --project-ref qjsvgpvbtrcnbhcjdcci

# ุชุทุจูู ุงููุงูุฌุฑูุดู
npx supabase db push

# ุชุดุบูู Storage setup
npx supabase db reset --db-url "your-database-url"
```

### 2. ุงุณุชุฎุฏุงู JavaScript API

```javascript
// ุฅูุดุงุก ูุฏูุฑ ุงููููุงุช
const fileManager = new FileUploadManager(supabase);

// ุงูุญุตูู ุนูู ุฃููุงุน ุงูุฃูุดุทุฉ
const activities = await fileManager.getActivityTypes();

// ุงูุญุตูู ุนูู ุฃููุงุน ุงููุณุชูุฏุงุช
const docTypes = await fileManager.getDocumentTypes(activityId);

// ุฑูุน ููู
const result = await fileManager.uploadFile(file, docType, requestId, userId);

// ุงูุชุญูู ูู ุงูุชูุงู ุงููุณุชูุฏุงุช
const completeness = await fileManager.checkRequiredDocumentsComplete(requestId, activityId);
```

### 3. ุงุณุชุฎุฏุงู ุงููุงุฌูุฉ

1. ุงูุชุญ `file-upload.html`
2. ุงุฎุชุฑ ููุน ุงููุดุงุท
3. ุงุฑูุน ุงููุณุชูุฏุงุช ุงููุทููุจุฉ
4. ุฃุฑุณู ุงูุทูุจ ูููุฑุงุฌุนุฉ

## ๐ ุงูููุฒุงุช

### โ ุงูุชุญูู ูู ุงููููุงุช
- ุงูุชุญูู ูู ุตูุบุฉ ุงูููู
- ุงูุชุญูู ูู ุญุฌู ุงูููู
- ุงูุชุญูู ูู ููุน MIME
- ุงูุชุญูู ูู ุงูุฃุจุนุงุฏ (ููุตูุฑ)

### โ ุฅุฏุงุฑุฉ ุงูุชุฎุฒูู
- ุชูุธูู ุงููููุงุช ูู ูุฌูุฏุงุช ูููุตูุฉ
- ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู
- ุญุฐู ุงููููุงุช ุงููุญุฐููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู

### โ ุงูุฃูุงู
- ุณูุงุณุงุช RLS ููุญูุงูุฉ
- ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
- ุชุดููุฑ ุงููููุงุช ุงูุญุณุงุณุฉ
- ุญูุงูุฉ ูู ุงููุตูู ุบูุฑ ุงููุตุฑุญ

### โ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ุชุตููู ูุชุฌุงูุจ
- ุณุญุจ ูุฅููุงุช ุงููููุงุช
- ุดุฑูุท ุชูุฏู ุงูุฑูุน
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### ุณูุงุณุงุช ุงูุญูุงูุฉ:
- ุงููุณุชุฎุฏููู ูููููู ุฑุคูุฉ ูููุงุชูู ููุท
- ุงููุฏูุฑูู ูููููู ุงููุตูู ูุฌููุน ุงููููุงุช
- ุงููููุงุช ูุญููุฉ ุจูููุงุช ูุฑูุฑ
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

### ุญุฏูุฏ ุงูุงุณุชุฎุฏุงู:
- ุญุฏ ุฃูุตู 5MB ููู ููู
- ุญุฏ ุฃูุตู 1GB ููู ูุณุชุฎุฏู
- ุฃููุงุน ูููุงุช ูุญุฏูุฏุฉ
- ูุญุต ุงูููุฑูุณุงุช

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงููุฑุงูุจุฉ

### Views ุงููุชุงุญุฉ:
- `registration_requests_with_files` - ุงูุทูุจุงุช ูุน ุงููููุงุช
- `file_statistics` - ุฅุญุตุงุฆูุงุช ุงููููุงุช

### ุงูุฏูุงู:
- `get_user_storage_stats()` - ุฅุญุตุงุฆูุงุช ุงููุณุชุฎุฏู
- `check_storage_quota()` - ูุญุต ุงููุณุงุญุฉ ุงููุชุงุญุฉ

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุงูููุฒุงุช ุงููุฎุทุทุฉ:
- [ ] ุถุบุท ุงูุตูุฑ ุงูุชููุงุฆู
- [ ] OCR ูููุณุชูุฏุงุช
- [ ] ูุญุต ุฌูุฏุฉ ุงูุตูุฑ
- [ ] ุฅุดุนุงุฑุงุช ุงูุชุญุฏูุซ
- [ ] API ููููุงุชู ุงููุญูููุฉ
- [ ] ุฏุนู ุงููููุงุช ุงูุณุญุงุจูุฉ

### ุงูุชุญุณููุงุช:
- [ ] ุชุญุณูู ุณุฑุนุฉ ุงูุฑูุน
- [ ] ุฏุนู ุงููููุงุช ุงููุจูุฑุฉ
- [ ] ูุงุฌูุฉ ุฅุฏุงุฑุฉ ูุชูุฏูุฉ
- [ ] ุชูุงุฑูุฑ ููุตูุฉ

## ๐ ุงูุฏุนู

ููุญุตูู ุนูู ุงูุฏุนู ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@luxbyte.com
- ุงููุงุชู: 01148709609
- ุงููููุน: https://luxbyte.com

---

**ยฉ 2025 Luxbyte - ุฌููุน ุงูุญููู ูุญููุธุฉ**
